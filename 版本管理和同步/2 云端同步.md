## 数据同步
{: id="20210104090536-acjo6y9" updated="20210226094055"}

数据同步功能是思源笔记的[高级特性](https://b3log.org/siyuan/advanced_features.html)，需要付费才能使用。同步分为 Git 同步和资源文件同步，这样能显著提高性能并且降低空间使用。
{: id="20210104090536-2cgwojq" updated="20210226095951"}

* {: id="20210226094138-gvtl8c4"}Git 同步仅用于同步 .md 文档，自动通过 .gitignore 忽略非 .md 文件同步
  {: id="20210226094138-qb917bj" updated="20210301211421"}
* {: id="20210226094159-quf7sre"}assets 文件夹下被文档中引用的资源文件将通过上传和下载进行同步
  {: id="20210226094159-rz58srw" updated="20210226095752"}
{: id="20210226094137-sbo9zgf" updated="20210226094817"}

#注意#：
{: id="20210104090536-69l5w8t" updated="20210226094859"}

* {: id="20210226094859-gkjxjd7"}每次同步时，会重置 .gitignore 并写入忽略规则
  {: id="20210226094859-szv6vat" updated="20210301211543"}
* {: id="20210226094859-uvjyiia"}因为 assets 不纳入 Git 管理，所以也就不会有版本历史支持，删除资源文件时请确认清楚
  {: id="20210226094859-ivn19m4"}
* {: id="20210226094859-85j6qb5"}如果使用其他 Git 仓库服务，请在设置中关闭自动提交
  {: id="20210226094859-dk6g8tw" updated="20210301211619"}
* {: id="20210226095726-5ekqqnl"}只有引用过的资源文件才会被同步，不支持文件夹引用方式
  {: id="20210226095726-whf4sd1" updated="20210226095804"}
{: id="20210226094859-k883i1k"}

## 云端空间大小
{: id="20210104090536-glx26lw" updated="20210226095026"}

* {: id="20210104090536-9mfin9z"}同一用户下所有笔记本加起来最大存储空间为 `4G`（包括 Git 版本历史）。可通过推荐新的付费订阅用户进行扩容，每成功推荐一个新订阅用户，则双方都奖励 500M 存储空间以及延长 7 天使用。每个账号的推荐上限次数为 32 次，也就是说理论上可以免费扩容到 `20G`
  {: id="20210204192116-mqravc2" updated="20210226095034"}
* {: id="20210104090536-vqkaomb"}付费订阅到期以后，会保留数据 1 个月，如果在此期间没有续费，1 个月以后将彻底删除数据
  {: id="20210204192116-6646hl3"}
{: id="20210104090536-4rge55p"}

## 同步使用流程
{: id="20210104090536-6v8ljkd"}

1. {: id="20210204192116-no78t6g"}在文件树上选择需要同步的笔记本，在右键下拉菜单中选择设置，在设置界面中打开同步选项
   {: id="20210226095102-j0kgnh4" updated="20210226095224"}
2. {: id="20210226095102-80ckjhk"}在当前设备上点击同步按钮，文档数据会通过 Git SSH 协议推送到云端，同时也会将云端数据拉取至本地；被引用的 assets 资源文件会通过 HTTPS 协议上传到云端
   {: id="20210226095102-x2bi671" updated="20210226100431"}
3. {: id="20210104090536-c4d72m4"}在新设备上通过设置 - 同步 - 云端笔记本 - 克隆到本地来将数据从云端下载下来。只有在新设备上第一次获取数据时需要进行克隆操作，后续就可以直接点击同步按钮进行同步了
   {: id="20210204192116-5b8yk4s"}
4. {: id="20210104090536-b3qbxl8"}同步后，如果有新拉取到的数据则界面会进行整体刷新。如果文档数据出现冲突，会以 ((20201210001447-tesjqkf "Git 冲突标记"))进行展现
   {: id="20210204192116-4dttyib" updated="20210226100921"}
{: id="20210104090536-j8u5e0t"}


{: id="20201002090736-ausltg7" type="doc"}
