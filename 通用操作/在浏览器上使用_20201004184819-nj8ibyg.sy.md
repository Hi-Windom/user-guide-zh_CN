## 使用方式
{: id="20201004184834-yxkwnhq"}

思源笔记桌面端是基于 [Electron](https://www.electronjs.org) 打包的，但这并不唯一的使用方式。只要启动思源笔记内核后，就能在浏览器上直接使用了，支持移动端浏览器适配。
{: id="20201004185545-mobv0z3"}

### 桌面端
{: id="20201004184834-158un1c"}

使用桌面发布包发布包启动。如果需要在浏览器上使用：
{: id="20201004184834-4xwerx6"}

* 启动完后直接访问：`http://127.0.0.1:6806/assets/build/index.html`
* 或者手动启动内核进程（位于 `resources/kernel`，macOS 下可能需要解压）后浏览器上访问上述地址
{: id="20201004184834-igfpnmo"}

### 服务器端
{: id="20201004184834-03nl35p"}

使用服务器发布包启动。配置反向代理：
{: id="20201004184834-1bv5lr0"}

* `6806`：HTTP/WebSocket
* `6807`：HTTP/WebDAV
{: id="20201004184834-hwu7izx"}

### 内容块 URL
{: id="20201004184834-t2poxjp"}

通过访问 `/blocks/{id}` 后在编辑器页签中打开。
{: id="20201004184834-38jlwu2"}

## 技术架构
{: id="20201004184834-i0qmlx2"}

整体上采用前后端分离的技术架构，通过 HTTP 实现前后端通讯。
{: id="20201004184834-phto2ag"}

### 前端
{: id="20201004184834-siyfh7v"}

前端目前主要是基于浏览器技术，实现用户交互界面和操作系统平台相关的业务逻辑等。
{: id="20201004184834-e77g80h"}

* Electron
* 标准独立浏览器
{: id="20201004184834-bzxpacd"}

未来前端可扩展到任何基于 HTTP 通讯的客户端。
{: id="20201004184834-g6kvixw"}

### 后端
{: id="20201004184834-hlk5wfg"}

后端是常驻内存的 HTTP 服务器，实现核心业务逻辑和数据持久化等。
{: id="20201004184834-k0yvpmu"}

### 发布包
{: id="20201004184834-sb0h7tu"}

#### 桌面应用
{: id="20201004184834-e5dphm1"}

基于 Electron 打包，主进程启动后拉起 kernel 内核进程。由 kernel  HTTP 伺服界面相关静态资源，Electron 主窗口通过 `loadURL` 加载界面。
{: id="20201004184834-oag9a4x"}

* siyuan-x.y.z-win.exe
* siyuan-x.y.z-linux.tar.gz
* siyuan-x.y.z-mac.dmg
{: id="20201004184834-1p4vbws"}

#### 服务器应用
{: id="20201004184834-u510eky"}

仅打包 kernel 内核和外观、文档等资源。通过 Docker 镜像 `b3log/siyuan` 分发。
{: id="20201004184834-k0sneuf"}
