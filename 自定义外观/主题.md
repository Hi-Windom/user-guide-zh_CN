## 安装
{: id="20201225202158-ujxvje1"}

### 手动
{: id="20201225212421-oqvirjy"}

1. {: id="20201225202158-mje47zp"}从某处获取主题并解压
2. {: id="20201225202158-qtlln5c"}在设置 - 外观 - 主题 - 打开主题文件夹
3. {: id="20201225202158-yonlrzp"}将主题拷贝到该文件夹中
4. {: id="20201225202158-9n28pkl"}重启在设置 - 外观 - 主题中选择所需主题
{: id="20201225202158-r2c12lh"}

### 社区集市
{: id="20201225215903-j4268ow"}

* {: id="20201225215955-syy5xzl"}在设置 - 外观 - 主题 - 集市中在线浏览社区开发者贡献的主题
* {: id="20201225220022-g74mq39"}选择所需主题在线安装或者更新
{: id="20201225215906-gvitxza"}

## 开发
{: id="20201225202158-c0ipfiy"}

### 步骤
{: id="20201225202158-upmhxlh"}

1. {: id="20201225202158-nzqts7o"}为你的主题取一个好听的名字，如 `alice`
   {: id="20201225202158-p6ighxp"}
2. {: id="20201225202158-rqpczkn"}在思源中依次点击 设置 - 外观 - 主题 - 打开主题文件夹
   {: id="20201225202158-s2o1egn"}
3. {: id="20201225202158-cz8s9wp"}在打开的文件夹中新建文件夹 `alice`，在 `alice` 中新建 `theme.css` 和 `theme.json` 文件 `theme.json` 文件如下：
   {: id="20201225202158-z2lern7"}

   ```json
   {
     "name": "Midnight",
     "author": "Vanessa",
     "url": "https://github.com/Vanessa219",
     "version": "1.0.0",
     "modes": ["dark"]
   }
   ```
   {: id="20201225202158-0cmjw33"}

   `modes` 为外观呈现模式，分为 `dark` 和 `light`，其余字段请按需修改。
   {: id="20201225202158-m45cgir"}
4. {: id="20201225202158-i9gw3vp"}打开 `theme.css` 文件，开启你的编码旅程
   {: id="20201225202158-r5sz3hb"}
5. {: id="20201225202158-ide7pkr"}重启思源后在 设置 - 外观 - 主题 中选择安装好的主题
   {: id="20201225202158-o2k25ck"}
{: id="20201225202158-gbr4pfn"}

### 编码
{: id="20201225202158-kmavboj"}

* {: id="20201225202158-lnvygup"}熟悉 [CSS](https://developer.mozilla.org/zh-CN/docs/Web/CSS) 基础知识
* {: id="20201225202158-cjlci55"}修改 `:root{...}` 中的配色
* {: id="20201225202158-1ege8ss"}按照图中 1-4 步不断进行修改![image.png](assets/image-bozvb00.png)
* {: id="20201225202158-8fep9oo"}将修改后的内容复制贴入 `theme.css` 中并保存
* {: id="20201225202158-gfmyvql"}在 `Network` 中勾选 `Disable cache` 后运行 `window.location.reload()` 以查看最终效果![image.png](assets/image-9b9y2ky.png)
{: id="20201225202158-jnsfuj4"}

### 上架主题集市
{: id="20201225212401-ru1scjs"}

请通过对[社区集市](https://github.com/siyuan-note/bazaar)仓库发起 Pull Request，修改其中的 themes.json 文件。该文件是所有社区主题仓库的索引文件，格式为：
{: id="20201225221727-qldf07w"}

```json
{
  "repos": [
    "username/reponame@commithash"
  ]
}
```
{: id="20201225222009-pu4hrv8"}

#### 更新
{: id="20201225222236-en4fjay"}

如果你开发的主题更新了版本，请记得：
{: id="20201225212409-sh7tjg2"}

* {: id="20201225222207-rp6nyhm"}更新主题配置 theme.json 中的 version 字段
* {: id="20201225222222-wd47b73"}再次 PR 到社区集市
{: id="20201225222206-e9d9fd9"}

{: id="20201225222141-bnpknll"}


{: id="20200922102318-oz84yu3" type="doc"}
